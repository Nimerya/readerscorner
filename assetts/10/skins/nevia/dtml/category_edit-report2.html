<script>
	$().ready(function(){
		
		
		
		$('input, textarea').focus(function(){
			$(this).css({
				'border': '1px solid #9999ff',
				'box-shadow': '0 0 2px 2px rgba(0, 0, 255, 0.3)'
			});
		});
		$('input, textarea').blur(function(){
			$(this).css({
				'border': '1px solid gray',
				'box-shadow': '0 0 0px 0px'
			});
		});
		
		
		
		
		$('.mandatory')
			.parent()
			.children(':first-child')
			.html(function(){
				return $(this).html()+' <span>*</span>';
			});
		
		$('input.submit').click(function(){
			var 
				validated = true;
			
			$('.mandatory').each(function(){
				
				if ($(this).val() == "") {
					validated = false;
					/*alert('Please enter '+$(this)
						.parent()
						.children(':first-child')
						.html().slice(0,-1));*/
						
					  alert($(this).attr('errormessage'));
					
					
				};
			});
			
			if (validated) {
				$('form#dataentry').submit();
			} else {
				return false;
			}
			
		});	
		
		if ('<[message]>' != '') {
			
			$("body").prepend("<div id='message' style='font-family: arial; color: #4444dd; opacity: 1; position: absolute;z-index: 10; width: 290px; height: 60px; border-radius: 10px; background-color: #88ddff; right: 20px; top:300px; padding: 10px;'><div>");
	
			var message;
			
			switch('<[message]>') {
			case "OK":
				$('#message').css({'background-color': '#ddffdd', 'color': '#44aa44' });
				message = '<strong>Yuppie!</strong><br><br>The transaction succeded!';
				break;
			case "error":
			case "KO":
				$('#message').css({'background-color': '#ffdddd', 'color': '#aa4444' });
				message = '<strong>Warning</strong><br><br>There was a problem!';
				break;
			}
			
			$('#message')
				.html(message)
				.hide()
				.fadeIn()
				.click(function(){
					$(this).fadeOut();
				});
			
			
		} 
	});
</script>
<!-- 960 Container -->
<div class="container floated">

	<div class="sixteen floated page-title">

		<h2>Category Edit</h2>

		<nav id="breadcrumbs">
			<ul>
				<li>You are here:</li>
				<li><a href="index.html">Home</a></li>
				<li>Left Sidebar</li>
			</ul>
		</nav>

	</div>

</div>
<!-- 960 Container / End -->


<!-- 960 Container -->
<div class="container floated">
	<!-- Sidebar -->
	<div class="four floated sidebar left">
		<aside class="sidebar">

			<!-- Search -->
			<nav class="widget-search">
				<form action="404-page.html" method="get">
					<button class="search-btn-widget"></button>
					<input class="search-field" type="text" onblur="if(this.value=='')this.value='Search';" onfocus="if(this.value=='Search')this.value='';" value="Search" />
				</form>
			</nav>
			<div class="clearfix"></div>

			<!-- Categories -->
			<[menu::insert template="sidebarmenu" library="mariela"]>

			
		</aside>
	</div>
	<!-- Sidebar / End -->


	<!-- Page Content -->
	<div class="eleven floated right">
		<div class="page-content">

			<h3 class="margin-reset">Select a Category</h3><br />
			<p>
			Some helping text !
			</p>
			<!-- form begin -->
			
			<section id="contact">

					
			
			<!-- Regular Table
	================================================== -->

		
			<!-- Headline -->
			

			<!-- Accordion -->
			<div class="accordion">

				<!-- Section 1 -->
				<[foreach]>
				<h3><span class="ui-accordion-header-icon ui-icon ui-accordion-icon ui-accordion-icon-active"></span><[name]></h3>
				<div><p>
					<form>
					
					
						<input type="hidden" name="page" value="2" />
						<input type="hidden" name="id" value="<[id]>" />
		
						<div>
							<label class="border" for="name">Name</label>
							<input class="mandatory" type="text" value="<[name]>" name="name" id="name" errormessage="Pippo!"/>
						</div>
						<div>
							<label for="description">Description</label>
							<textarea class="" name="description" id="description" cols="50" rows="10"><[description]></textarea>
						</div>
						<div>
							<label class="border" for="position">Position</label>
							<input type="text" name="position"  value="<[position]>" id="position" />
						</div>
				
					<input type="submit" class="submit" id="submit" value="Update" />
					</form></p>
				</div>
				<[/foreach]>

				
			</div>
			<!-- Accordion / End -->

		</div>
	</div>
	<!-- Page Content / End -->

</div>
<!-- 960 Container / End -->